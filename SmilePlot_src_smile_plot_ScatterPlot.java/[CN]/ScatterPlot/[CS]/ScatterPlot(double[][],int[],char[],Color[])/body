{
  if (data.length != y.length) {
    throw new IllegalArgumentException("Data and label size are different.");
  }
  int[] id=Math.unique(y);
  Arrays.sort(id);
  valueLookupTable=new HashMap<Integer,Integer>(id.length);
  for (int i=0; i < id.length; i++) {
    valueLookupTable.put(id[i],i);
  }
  for (int i=0; i < id.length; i++) {
    if (id[i] < 0) {
      throw new IllegalArgumentException("Negative class label: " + id[i]);
    }
  }
  int k=id.length;
  if (legends != null && k > legends.length) {
    throw new IllegalArgumentException("Too few legends.");
  }
  if (palette != null && k > palette.length) {
    throw new IllegalArgumentException("Too few colors.");
  }
  this.data=data;
  this.y=y;
  this.legends=legends;
  this.palette=palette;
}
