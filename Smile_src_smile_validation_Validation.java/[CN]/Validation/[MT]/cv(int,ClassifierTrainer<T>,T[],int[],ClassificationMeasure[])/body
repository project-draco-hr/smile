{
  if (k < 2) {
    throw new IllegalArgumentException("Invalid k for k-fold cross validation: " + k);
  }
  int n=x.length;
  int[] predictions=new int[n];
  CrossValidation cv=new CrossValidation(n,k);
  for (int i=0; i < k; i++) {
    T[] trainx=Math.slice(x,cv.train[i]);
    int[] trainy=Math.slice(y,cv.train[i]);
    Classifier<T> classifier=trainer.train(trainx,trainy);
    for (    int j : cv.test[i]) {
      predictions[j]=classifier.predict(x[j]);
    }
  }
  int m=measures.length;
  double[] results=new double[m];
  for (int i=0; i < m; i++) {
    results[i]=measures[i].measure(y,predictions);
  }
  return results;
}
